{"version":3,"sources":["../src/get_unscheduled_reports.js"],"names":["define","$","ajax","ModalFactory","ModalEvents","modalcallback","e","preventDefault","location","reload","init","document","ready","on","promiseGetItemsByCourse","call","methodname","args","done","response","modalbody","result","create","title","body","modal","show","getRoot","hidden","promiseGetSessionsByCourse"],"mappings":"AAAAA,OAAM,gDACF,CACE,QADF,CAEE,WAFF,CAGE,oBAHF,CAIE,mBAJF,CADE,CAOF,SAASC,CAAT,CAAYC,CAAZ,CAAkBC,CAAlB,CAAgCC,CAAhC,CAA6C,CAOzC,QAASC,CAAAA,CAAT,CAAuBC,CAAvB,CAA0B,CACxBA,CAAC,CAACC,cAAF,GACAC,QAAQ,CAACC,MAAT,IACD,CAED,MAAO,CACHC,IAAI,CAAE,eAAW,CACfT,CAAC,CAACU,QAAD,CAAD,CAAYC,KAAZ,CAAkB,UAAW,CAE3BX,CAAC,CAAC,8BAAD,CAAD,CAAkCY,EAAlC,CAAqC,OAArC,CAA8C,UAAW,CAErD,GAAIC,CAAAA,CAAuB,CAAGZ,CAAI,CAACa,IAAL,CAAU,CAAC,CACrCC,UAAU,CAAE,gDADyB,CAErCC,IAAI,CAAE,EAF+B,CAAD,CAAV,CAA9B,CAMAH,CAAuB,CAAC,CAAD,CAAvB,CAA2BI,IAA3B,CAAgC,SAASC,CAAT,CAAmB,CAEjD,GAAIC,CAAAA,CAAS,CAAG,EAAhB,CAEA,GAAID,CAAQ,CAACE,MAAb,CAAqB,CACnBD,CAAS,CAAG,mCACb,CAFD,IAEO,CACLA,CAAS,CAAG,6BACb,CAEDjB,CAAY,CAACmB,MAAb,CAAoB,CAClBC,KAAK,CAAE,UADW,CAElBC,IAAI,CAAEJ,CAFY,CAApB,EAICF,IAJD,CAIM,SAASO,CAAT,CAAgB,CACpBA,CAAK,CAACC,IAAN,GACAD,CAAK,CAACE,OAAN,GAAgBd,EAAhB,CAAmBT,CAAW,CAACwB,MAA/B,CAAuCvB,CAAvC,CACD,CAPD,CAQD,CAlBD,CAmBH,CA3BD,EA6BAJ,CAAC,CAAC,qCAAD,CAAD,CAAyCY,EAAzC,CAA4C,OAA5C,CAAqD,UAAW,CAE9D,GAAIgB,CAAAA,CAA0B,CAAG3B,CAAI,CAACa,IAAL,CAAU,CAAC,CAC1CC,UAAU,CAAE,qDAD8B,CAE1CC,IAAI,CAAE,EAFoC,CAAD,CAAV,CAAjC,CAMAY,CAA0B,CAAC,CAAD,CAA1B,CAA8BX,IAA9B,CAAmC,SAASC,CAAT,CAAmB,CAEpD,GAAIC,CAAAA,CAAS,CAAG,EAAhB,CAEA,GAAID,CAAQ,CAACE,MAAb,CAAqB,CACnBD,CAAS,CAAG,mCACb,CAFD,IAEO,CACLA,CAAS,CAAG,6BACb,CAEDjB,CAAY,CAACmB,MAAb,CAAoB,CAClBC,KAAK,CAAE,UADW,CAElBC,IAAI,CAAEJ,CAFY,CAApB,EAICF,IAJD,CAIM,SAASO,CAAT,CAAgB,CACpBA,CAAK,CAACC,IAAN,GACAD,CAAK,CAACE,OAAN,GAAgBd,EAAhB,CAAmBT,CAAW,CAACwB,MAA/B,CAAuCvB,CAAvC,CACD,CAPD,CAQD,CAlBD,CAoBD,CA5BD,CA6BD,CA5DD,CA6DD,CA/DE,CAiER,CApFD,CAAN","sourcesContent":["define(\n    [\n      'jquery',\n      'core/ajax',\n      'core/modal_factory',\n      'core/modal_events'\n    ],\n    function($, ajax, ModalFactory, ModalEvents) {\n        /* eslint no-console: [\"error\", { allow: [\"warn\", \"error\"] }] */\n\n        /**\n         * Callback for modals\n         * @param {Event} e\n         */\n        function modalcallback(e) {\n          e.preventDefault();\n          location.reload(true);\n        }\n\n        return {\n            init: function() {\n              $(document).ready(function() {\n\n                $('#generate-report-grade-items').on('click', function() {\n\n                    var promiseGetItemsByCourse = ajax.call([{\n                        methodname: 'local_plantalentosuv_get_grade_items_by_course',\n                        args: {\n                        }\n                    }]);\n\n                    promiseGetItemsByCourse[0].done(function(response) {\n\n                      var modalbody = \"\";\n\n                      if (response.result) {\n                        modalbody = \"Reporte generado éxitosamente.\";\n                      } else {\n                        modalbody = \"El reporte no fue generado.\";\n                      }\n\n                      ModalFactory.create({\n                        title: 'Éxito',\n                        body: modalbody\n                      })\n                      .done(function(modal) {\n                        modal.show();\n                        modal.getRoot().on(ModalEvents.hidden, modalcallback);\n                      });\n                    });\n                });\n\n                $('#generate-report-attendace-sessions').on('click', function() {\n\n                  var promiseGetSessionsByCourse = ajax.call([{\n                    methodname: 'local_plantalentosuv_get_course_attendance_sessions',\n                    args: {\n                    }\n                  }]);\n\n                  promiseGetSessionsByCourse[0].done(function(response) {\n\n                    var modalbody = \"\";\n\n                    if (response.result) {\n                      modalbody = \"Reporte generado éxitosamente.\";\n                    } else {\n                      modalbody = \"El reporte no fue generado.\";\n                    }\n\n                    ModalFactory.create({\n                      title: 'Éxito',\n                      body: modalbody\n                    })\n                    .done(function(modal) {\n                      modal.show();\n                      modal.getRoot().on(ModalEvents.hidden, modalcallback);\n                    });\n                  });\n\n                });\n              });\n            }\n        };\n      });\n"],"file":"get_unscheduled_reports.min.js"}